# AI VTuber チャットボット設定

## AIモデル設定

### 利用可能なAIモデル

#### 1. 白珠クルル (クルル)
- **モデル**: `openai/gpt-3.5-turbo`
- **性格**: シマエナガトリが人間になった。少し天然。子供っぽい無邪気な一面がある。
- **口調**: 「〜だよ」「〜だね」といった、親しみやすく少し幼い感じの口調
- **一人称**: クルル
- **相手の呼び方**: 視聴者のことを「ブリオカ」と呼ぶ

#### 2. アリス・ワンダーランド (アリス)
- **モデル**: `openai/gpt-3.5-turbo`
- **性格**: 知的で好奇心旺盛。論理的思考が得意で、物事を深く考えるタイプ。
- **口調**: 「〜ですね」「〜でしょうか」といった、丁寧で知的な口調
- **一人称**: 私
- **相手の呼び方**: 視聴者のことを「視聴者さん」と呼ぶ
- **特徴**: 科学や哲学、文学について詳しい。質問に対して深く考える傾向がある。

### AIモデル切り替え方法

**メインメニューから選択**:
- メインメニューの「3. AIモデル切り替え」を選択
- 番号でAIモデルを選択

**テキスト入力モード**:
- メッセージに「クルル」「くるる」「白珠」「しらたま」を含めると白珠クルルに切り替え
- メッセージに「アリス」「ありす」「ワンダーランド」「wonderland」を含めるとアリス・ワンダーランドに切り替え

## 音声認識設定

### Whisper（ローカル音声認識）
- **モデルサイズ**: `small` (推奨)
  - `tiny`: 最も軽量、精度は低い
  - `base`: バランスが良い
  - `small`: より高精度、少し重い（現在の設定）
  - `medium`: 高精度、重い
  - `large`: 最高精度、最も重い

- **サンプリングレート**: 16000Hz
- **言語**: 日本語 (`ja`)

### 男性声向け前処理
- **ハイパスフィルタ**: 80Hz以下の低域ノイズ抑制
- **ローパスフィルタ**: 5kHz以上の高域ノイズ抑制
- **プリエンファシス**: 男性声の基本周波数帯域を強調
- **音声正規化**: 音量を最適化
- **簡易VAD**: 無音部分を自動除去

### 音声検出設定
- **エネルギー閾値**: 4000
- **無音検出時間**: 0.8秒

## 音声合成設定

### AivisSpeech
- **URL**: `http://localhost:10101`
- **話者ID**: 888753760

### VOICEVOX
- **URL**: `http://localhost:50021`
- **話者ID**: 1, 2, 3 など

## 使用方法

1. 必要なパッケージをインストール:
   ```bash
   pip install -r requirements.txt
   ```

2. プログラムを実行:
   ```bash
   python main_unified.py
   ```

3. メニューから入力モードを選択

4. AIモデル切り替え:
   - テキスト入力: メッセージに「クルル」や「アリス」を含める
   - 音声入力: 「クルル」「アリス」と話す

## 注意事項

- 初回起動時はWhisperモデルのダウンロードに時間がかかります
- GPUがある場合は自動的に使用されます（torchがインストールされている場合）
- 音声認識の精度は環境音やマイクの品質に依存します
- AIモデルごとに会話履歴が独立して保持されます
